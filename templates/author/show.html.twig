{% extends 'base.html.twig' %}

{% block title %}Author{% endblock %}

{% block body %}
    <div class="container">
    <br><br><br>
    <h1>Author</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ author.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ author.name }}</td>
            </tr>
            <tr>
                <th>Lastname</th>
                <td>{{ author.lastname }}</td>
            </tr>
            <tr>
                <th>Address</th>
                <td>{{ author.address }}</td>
            </tr>

            <tr>
                <th>Books</th>

                <td>
                        <section>
                            <div class="container">
                                <h1 id="heading">All Books</h1>
                                <ul id="gallery">
                                    {% for book in author.books %}
                                        <li class="" ><a href="{{ path('book_show',{"id": book.id })}}" data-lightbox="projects"
                                                         data-title="{{ book.title }}" data-desc="{{ book.categorie.designation }}">
                                        {% if book.photoFilename %}
                                            <img src="{{ asset('uploads/photos/' ~ book.photoFilename) }}" />
                                            </a>
                                            </li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                            </div>
                        </section>
                </td>
            </tr>
        </tbody>
    </table>

    <a class="btn btn-danger" href="{{ path('author_index') }}">back to list</a>
        {% if is_granted("ROLE_ADMIN") %}
            <a class="btn btn-info" href="{{ path('author_edit', {'id': author.id}) }}">edit</a>

            {{ include('author/_delete_form.html.twig') }}
        {% endif %}

    </div>
        {% endblock %}
